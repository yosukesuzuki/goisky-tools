(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var BuildAppList, BuildForm, BuildFormList, BuildFormUpdate, SetPostData, appStoreOptions, appStores, blobStoreImageSchema, iOSAppSchema, key, schemas, value;

document.addEventListener("DOMContentLoaded", function(event) {
  var pathName;
  console.log("DOM fully loaded and parsed");
  pathName = location.pathname.split("/")[2];
  switch (pathName) {
    case "":
    case void 0:
      BuildAppList();
      break;
    case "form":
      BuildForm();
      window.onhashchange = BuildForm;
  }
});

BuildAppList = function() {
  var items, key, listVue, value;
  items = [];
  for (key in schemas) {
    value = schemas[key];
    items.push(value);
  }
  return listVue = new Vue({
    el: "#form-container",
    template: "#appList",
    data: {
      items: items
    }
  });
};

BuildForm = function() {
  var crudMethod, hashArr, keyName, modelName, schema;
  hashArr = location.hash.split("/");
  modelName = hashArr[1];
  crudMethod = hashArr[2];
  keyName = hashArr[3];
  schema = _.cloneDeep(schemas[modelName]);
  switch (crudMethod) {
    case "update":
      return BuildFormUpdate(schema, keyName);
    case "list":
      return BuildFormList(schema);
  }
};

SetPostData = function(items) {
  var returnObject, v, _i, _len;
  returnObject = {};
  for (_i = 0, _len = items.length; _i < _len; _i++) {
    v = items[_i];
    returnObject[v.fieldName] = v.fieldValue;
  }
  return returnObject;
};

BuildFormUpdate = function(schema, keyName) {
  var formVue;
  return formVue = new Vue({
    el: "#form-container",
    template: "#formTemplate",
    data: {
      formTitle: schema.formTitle,
      items: schema.schema
    },
    created: function() {
      var request;
      if (keyName) {
        request = window.superagent;
        return request.get(schema.apiEndpoint + "/" + keyName, function(res) {
          var data, v, _i, _len, _ref, _results;
          data = res.body;
          _ref = formVue.$data.items;
          _results = [];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            v = _ref[_i];
            _results.push(v.fieldValue = data[v.fieldName]);
          }
          return _results;
        });
      }
    },
    methods: {
      cancel: function(e) {
        formVue.$destroy();
        return location.hash = "/" + schema.modelName + "/list";
      },
      submitUpdate: function(e) {
        var request;
        e.preventDefault();
        this.$event.toElement.innerHTML = "..loading";
        this.$event.toElement.setAttribute("disabled", "disabled");
        request = window.superagent;
        return request.post(schema.apiEndpoint).send(SetPostData(this.$data.items)).set("Accept", "application/json").end(function(error, res) {
          var items;
          if (error == null) {
            items = res.body;
            console.log(items);
            location.hash = "/" + schema.modelName + "/list";
            return location.reload();
          }
        });
      }
    }
  });
};

BuildFormList = function(schema) {
  var listVue, request;
  listVue = new Vue({
    el: "#form-container",
    template: "#listTemplate",
    data: {
      formTitle: schema.formTitle,
      formDescription: schema.formDescription,
      modelName: schema.modelName,
      items: []
    },
    methods: {
      executeTask: function(e) {
        var request;
        request = window.superagent;
        return request.get(schema.taskEndpoint, function(res) {
          return console.log("done");
        });
      },
      deleteEntity: function(e) {
        var keyName, request;
        if (window.confirm('Delete this entity?')) {
          keyName = e.targetVM.$data.app_id;
          request = window.superagent;
          return request.del(schema.apiEndpoint + "/" + keyName, function(res) {
            var items;
            items = res.body;
            return listVue.$data.items.$remove(e.targetVM.$index);
          });
        }
      }
    }
  });
  request = window.superagent;
  request.get(schema.apiEndpoint, function(res) {
    var items;
    items = res.body;
    return listVue.$data.items = items.items;
  });
  if (document.querySelector("#imagetarget")) {
    return request.get("/admin/blobstoreimage/uploadurl", function(res) {
      var blobDropzone;
      blobDropzone = new Dropzone("div#imagetarget", {
        url: res.body.uploadurl,
        uploadMultiple: false
      });
      return blobDropzone.on("complete", function(file) {
        return request.get("/admin/blobstoreimage/handler", function(res) {
          return request.get(schema.apiEndpoint, function(res) {
            var items;
            items = res.body;
            return listVue.$data.items = items.items;
          });
        });
      });
    });
  }
};

Vue.filter("dateFormat", function(value) {
  var localTime;
  value = value.replace(/T/, " ");
  localTime = moment.utc(value.slice(0, 16)).toDate();
  localTime = moment(localTime).format("YYYY-MM-DD HH:mm (Z)");
  return localTime;
});

Vue.filter("dateFormatUTC", function(value) {
  value = value.replace(/T/, " ");
  return value.slice(0, 16);
});

appStores = {
  Argentina: 143505,
  Australia: 143460,
  Belgium: 143446,
  Brazil: 143503,
  Canada: 143455,
  Chile: 143483,
  China: 143465,
  Colombia: 143501,
  "Costa Rica": 143495,
  Croatia: 143494,
  "Czech Republic": 143489,
  Denmark: 143458,
  Deutschland: 143443,
  "El Salvador": 143506,
  Espana: 143454,
  Finland: 143447,
  France: 143442,
  Greece: 143448,
  Guatemala: 143504,
  "Hong Kong": 143463,
  Hungary: 143482,
  India: 143467,
  Indonesia: 143476,
  Ireland: 143449,
  Israel: 143491,
  Italia: 143450,
  Korea: 143466,
  Kuwait: 143493,
  Lebanon: 143497,
  Luxembourg: 143451,
  Malaysia: 143473,
  Mexico: 143468,
  Nederland: 143452,
  "New Zealand": 143461,
  Norway: 143457,
  Osterreich: 143445,
  Pakistan: 143477,
  Panama: 143485,
  Peru: 143507,
  Phillipines: 143474,
  Poland: 143478,
  Portugal: 143453,
  Qatar: 143498,
  Romania: 143487,
  Russia: 143469,
  "Saudi Arabia": 143479,
  "Schweiz/Suisse": 143459,
  Singapore: 143464,
  Slovakia: 143496,
  Slovenia: 143499,
  "South Africa": 143472,
  "Sri Lanka": 143486,
  Sweden: 143456,
  Taiwan: 143470,
  Thailand: 143475,
  Turkey: 143480,
  "United Arab Emirates": 143481,
  "United Kingdom": 143444,
  "United States": 143441,
  Venezuela: 143502,
  Vietnam: 143471,
  Japan: 143462,
  "Dominican Republic": 143508,
  Ecuador: 143509,
  Egypt: 143516,
  Estonia: 143518,
  Honduras: 143510,
  Jamaica: 143511,
  Kazakhstan: 143517,
  Latvia: 143519,
  Lithuania: 143520,
  Macau: 143515,
  Malta: 143521,
  Moldova: 143523,
  Nicaragua: 143512,
  Paraguay: 143513,
  Uruguay: 143514
};

appStoreOptions = [];

for (key in appStores) {
  value = appStores[key];
  appStoreOptions.push({
    text: key,
    value: value
  });
}

iOSAppSchema = [
  {
    fieldTitle: "Application ID",
    fieldName: "app_id",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Title",
    fieldName: "title",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Webhook URL",
    fieldName: "webhook_url",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Icon URL",
    fieldName: "icon_url",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Description",
    fieldName: "content",
    fieldType: "textarea",
    fieldValue: ""
  }, {
    fieldTitle: "Region",
    fieldName: "region",
    fieldType: "select",
    options: appStoreOptions,
    fieldValue: ""
  }
];

blobStoreImageSchema = [
  {
    fieldTitle: "Title",
    fieldName: "title",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Note",
    fieldName: "note",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Image URL",
    fieldName: "image_url",
    fieldType: "inputtext",
    fieldValue: ""
  }
];

schemas = {
  iosapp: {
    schema: iOSAppSchema,
    modelName: "iosapp",
    apiEndpoint: "/admin/api/v1/iosapp",
    taskEndpoint: "/admin/task/iosapp/getreviews",
    formTitle: "AppStore App settings",
    formDescription: "When a review is posted to AppStore, notification is send to your slack channel"
  },
  blobstoreimage: {
    schema: blobStoreImageSchema,
    modelName: "blobstoreimage",
    apiEndpoint: "/admin/api/v1/blobstoreimage",
    formTitle: "Blob Store Image Management",
    formDescription: "Upload Image to BlobStore and get resizable image by parameter"
  }
};



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdXp1a2l5b3N1a2UvZGV2L3NsYWNrLXRvb2xzL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9zdXp1a2l5b3N1a2UvZGV2L3NsYWNrLXRvb2xzL3NyYy9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLHlKQUFBOztBQUFBLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsU0FBQyxLQUFELEdBQUE7QUFDNUMsTUFBQSxRQUFBO0FBQUEsRUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLDZCQUFaLENBQUEsQ0FBQTtBQUFBLEVBQ0EsUUFBQSxHQUFXLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBbEIsQ0FBd0IsR0FBeEIsQ0FBNkIsQ0FBQSxDQUFBLENBRHhDLENBQUE7QUFFQSxVQUFPLFFBQVA7QUFBQSxTQUNPLEVBRFA7QUFBQSxTQUNVLE1BRFY7QUFFSSxNQUFBLFlBQUEsQ0FBQSxDQUFBLENBRko7QUFDVTtBQURWLFNBR08sTUFIUDtBQUlJLE1BQUEsU0FBQSxDQUFBLENBQUEsQ0FBQTtBQUFBLE1BQ0EsTUFBTSxDQUFDLFlBQVAsR0FBc0IsU0FEdEIsQ0FKSjtBQUFBLEdBSDRDO0FBQUEsQ0FBOUMsQ0FBQSxDQUFBOztBQUFBLFlBV0EsR0FBYyxTQUFBLEdBQUE7QUFDWixNQUFBLDBCQUFBO0FBQUEsRUFBQSxLQUFBLEdBQVEsRUFBUixDQUFBO0FBQ0EsT0FBQSxjQUFBO3lCQUFBO0FBQ0UsSUFBQSxLQUFLLENBQUMsSUFBTixDQUFXLEtBQVgsQ0FBQSxDQURGO0FBQUEsR0FEQTtTQUdBLE9BQUEsR0FBYyxJQUFBLEdBQUEsQ0FDWjtBQUFBLElBQUEsRUFBQSxFQUFJLGlCQUFKO0FBQUEsSUFDQSxRQUFBLEVBQVUsVUFEVjtBQUFBLElBRUEsSUFBQSxF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QUFXLFFBRFg7QUFBQSxJQUVBLFdBQUEsRUFBYSxzQkFGYjtBQUFBLElBR0EsWUFBQSxFQUFjLCtCQUhkO0FBQUEsSUFJQSxTQUFBLEVBQVUsdUJBSlY7QUFBQSxJQUtBLGVBQUEsRUFBZ0IsaUZBTGhCO0dBREY7QUFBQSxFQU9BLGNBQUEsRUFDRTtBQUFBLElBQUEsTUFBQSxFQUFPLG9CQUFQO0FBQUEsSUFDQSxTQUFBLEVBQVcsZ0JBRFg7QUFBQSxJQUVBLFdBQUEsRUFBYSw4QkFGYjtBQUFBLElBR0EsU0FBQSxFQUFVLDZCQUhWO0FBQUEsSUFJQSxlQUFBLEVBQWdCLGdFQUpoQjtHQVJGO0NBelFGLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKX12YXIgZj1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwoZi5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxmLGYuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciBcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKGV2ZW50KSAtPlxuICBjb25zb2xlLmxvZyBcIkRPTSBmdWxseSBsb2FkZWQgYW5kIHBhcnNlZFwiXG4gIHBhdGhOYW1lID0gbG9jYXRpb24ucGF0aG5hbWUuc3BsaXQoXCIvXCIpWzJdXG4gIHN3aXRjaCBwYXRoTmFtZVxuICAgIHdoZW4gXCJcIix1bmRlZmluZWRcbiAgICAgIEJ1aWxkQXBwTGlzdCgpXG4gICAgd2hlbiBcImZvcm1cIlxuICAgICAgQnVpbGRGb3JtKClcbiAgICAgIHdpbmRvdy5vbmhhc2hjaGFuZ2UgPSBCdWlsZEZvcm1cbiAgcmV0dXJuXG5cbkJ1aWxkQXBwTGlzdCA9LT5cbiAgaXRlbXMgPSBbXVxuICBmb3Iga2V5LHZhbHVlIG9mIHNjaGVtYXNcbiAgICBpdGVtcy5wdXNoIHZhbHVlXG4gIGxpc3RWdWUgPSBuZXcgVnVlKFxuICAgIGVsOiBcIiNmb3JtLWNvbnRhaW5lclwiXG4gICAgdGVtcGxhdGU6IFwiI2FwcExpc3RcIlxuICAgIGRhdGE6XG4gICAgICBpdGVtczogaXRlbXNcbiAgKVxuXG5CdWlsZEZvcm0gPSAtPlxuICBoYXNoQXJyID0gbG9jYXRpb24uaGFzaC5zcGxpdChcIi9cIilcbiAgbW9kZWxOYW1lID0gaGFzaEFyclsxXVxuICBjcnVkTWV0aG9kID0gaGFzaEFyclsyXVxuICBrZXlOYW1lID0gaGFzaEFyclszXVxuICBzY2hlbWEgPSBfLmNsb25lRGVlcChzY2hlbWFzW21vZGVsTmFtZV0pXG4gIHN3aXRjaCBjcnVkTWV0aG9kXG4gICAgd2hlbiBcInVwZGF0ZVwiIHRoZW4gQnVpbGRGb3JtVXBkYXRlKHNjaGVtYSxrZXlOYW1lKVxuICAgIHdoZW4gXCJsaXN0XCIgdGhlbiBCdWlsZEZvcm1MaXN0KHNjaGVtYSlcblxuU2V0UG9zdERhdGEgPSAoaXRlbXMpIC0+XG4gIHJldHVybk9iamVjdCA9IHt9XG4gIGZvciB2IGluIGl0ZW1zXG4gICAgcmV0dXJuT2JqZWN0W3YuZmllbGROYW1lXSA9IHYuZmllbGRWYWx1ZVxuICByZXR1cm4gcmV0dXJuT2JqZWN0XG5cbkJ1aWxkRm9ybVVwZGF0ZSA9IChzY2hlbWEsa2V5TmFtZSkgLT5cbiAgZm9ybVZ1ZSA9IG5ldyBWdWUoXG4gICAgZWw6IFwiI2Zvcm0tY29udGFpbmVyXCJcbiAgICB0ZW1wbGF0ZTogXCIjZm9ybVRlbXBsYXRlXCJcbiAgICBkYXRhOlxuICAgICAgZm9ybVRpdGxlOiBzY2hlbWEuZm9ybVRpdGxlXG4gICAgICBpdGVtczogc2NoZW1hLnNjaGVtYVxuICAgIGNyZWF0ZWQ6ICgpIC0+XG4gICAgICBpZiBrZXlOYW1lXG4gICAgICAgIHJlcXVlc3QgPSB3aW5kb3cuc3VwZXJhZ2VudFxuICAgICAgICByZXF1ZXN0LmdldCBzY2hlbWEuYXBpRW5kcG9pbnQrXCIvXCIra2V5TmFtZSwgKHJlcykgLT5cbiAgICAgICAgICBkYXRhID0gcmVzLmJvZHlcbiAgICAgICAgICBmb3IgdiBpbiBmb3JtVnVlLiRkYXRhLml0ZW1zXG4gICAgICAgICAgICB2LmZpZWxkVmFsdWUgPSBkYXRhW3YuZmllbGROYW1lXVxuICAgIG1ldGhvZHM6XG4gICAgICBjYW5jZWw6IChlKSAtPlxuICAgICAgICBmb3JtVnVlLiRkZXN0cm95KClcbiAgICAgICAgbG9jYXRpb24uaGFzaCA9IFwiL1wiK3NjaGVtYS5tb2RlbE5hbWUrXCIvbGlzdFwiXG4gICAgICBzdWJtaXRVcGRhdGU6IChlKSAtPlxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgdGhpcy4kZXZlbnQudG9FbGVtZW50LmlubmVySFRNTCA9IFwiLi5sb2FkaW5nXCJcbiAgICAgICAgdGhpcy4kZXZlbnQudG9FbGVtZW50LnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKVxuICAgICAgICByZXF1ZXN0ID0gd2luZG93LnN1cGVyYWdlbnRcbiAgICAgICAgcmVxdWVzdC5wb3N0KHNjaGVtYS5hcGlFbmRwb2ludClcbiAgICAgICAgICAuc2VuZChTZXRQb3N0RGF0YShAJGRhdGEuaXRlbXMpKVxuICAgICAgICAgIC5zZXQoXCJBY2NlcHRcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gICAgICAgICAgLmVuZCAoZXJyb3IsIHJlcykgLT5cbiAgICAgICAgICAgIHVubGVzcyBlcnJvcj9cbiAgICAgICAgICAgICAgaXRlbXMgPSByZXMuYm9keVxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyBpdGVtc1xuICAgICAgICAgICAgICBsb2NhdGlvbi5oYXNoID0gXCIvXCIrc2NoZW1hLm1vZGVsTmFtZStcIi9saXN0XCJcbiAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKClcbiAgKVxuXG5CdWlsZEZvcm1MaXN0ID0gKHNjaGVtYSkgLT5cbiAgbGlzdFZ1ZSA9IG5ldyBWdWUoXG4gICAgZWw6IFwiI2Zvcm0tY29udGFpbmVyXCJcbiAgICB0ZW1wbGF0ZTogXCIjbGlzdFRlbXBsYXRlXCJcbiAgICBkYXRhOlxuICAgICAgZm9ybVRpdGxlOiBzY2hlbWEuZm9ybVRpdGxlXG4gICAgICBmb3JtRGVzY3JpcHRpb246IHNjaGVtYS5mb3JtRGVzY3JpcHRpb25cbiAgICAgIG1vZGVsTmFtZTogc2NoZW1hLm1vZGVsTmFtZVxuICAgICAgaXRlbXM6IFtdXG4gICAgbWV0aG9kczpcbiAgICAgIGV4ZWN1dGVUYXNrOiAoZSkgLT5cbiAgICAgICAgcmVxdWVzdCA9IHdpbmRvdy5zdXBlcmFnZW50XG4gICAgICAgIHJlcXVlc3QuZ2V0IHNjaGVtYS50YXNrRW5kcG9pbnQsIChyZXMpIC0+XG4gICAgICAgICAgY29uc29sZS5sb2cgXCJkb25lXCJcbiAgICAgICAgICBcbiAgICAgIGRlbGV0ZUVudGl0eTogKGUpIC0+XG4gICAgICAgIGlmIHdpbmRvdy5jb25maXJtKCdEZWxldGUgdGhpcyBlbnRpdHk/JylcbiAgICAgICAgICBrZXlOYW1lID0gZS50YXJnZXRWTS4kZGF0YS5hcHBfaWRcbiAgICAgICAgICByZXF1ZXN0ID0gd2luZG93LnN1cGVyYWdlbnRcbiAgICAgICAgICByZXF1ZXN0LmRlbCBzY2hlbWEuYXBpRW5kcG9pbnQrXCIvXCIra2V5TmFtZSwgKHJlcykgLT5cbiAgICAgICAgICAgIGl0ZW1zID0gcmVzLmJvZHlcbiAgICAgICAgICAgIGxpc3RWdWUuJGRhdGEuaXRlbXMuJHJlbW92ZShlLnRhcmdldFZNLiRpbmRleClcbiAgKVxuICByZXF1ZXN0ID0gd2luZG93LnN1cGVyYWdlbnRcbiAgcmVxdWVzdC5nZXQgc2NoZW1hLmFwaUVuZHBvaW50LCAocmVzKSAtPlxuICAgIGl0ZW1zID0gcmVzLmJvZHlcbiAgICBsaXN0VnVlLiRkYXRhLml0ZW1zID0gaXRlbXMuaXRlbXNcbiAgaWYgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpbWFnZXRhcmdldFwiKVxuICAgIHJlcXVlc3QuZ2V0IFwiL2FkbWluL2Jsb2JzdG9yZWltYWdlL3VwbG9hZHVybFwiLCAocmVzKSAtPlxuICAgICAgYmxvYkRyb3B6b25lID0gbmV3IERyb3B6b25lKFwiZGl2I2ltYWdldGFyZ2V0XCIsXG4gICAgICAgIHVybDogcmVzLmJvZHkudXBsb2FkdXJsXG4gICAgICAgIHVwbG9hZE11bHRpcGxlOiBmYWxzZVxuICAgICAgKVxuICAgICAgYmxvYkRyb3B6b25lLm9uIFwiY29tcGxldGVcIiwgKGZpbGUpIC0+XG4gICAgICAgIHJlcXVlc3QuZ2V0IFwiL2FkbWluL2Jsb2JzdG9yZWltYWdlL2hhbmRsZXJcIiwocmVzKSAtPlxuICAgICAgICAgIHJlcXVlc3QuZ2V0IHNjaGVtYS5hcGlFbmRwb2ludCwgKHJlcykgLT5cbiAgICAgICAgICAgIGl0ZW1zID0gcmVzLmJvZHlcbiAgICAgICAgICAgIGxpc3RWdWUuJGRhdGEuaXRlbXMgPSBpdGVtcy5pdGVtc1xuXG5WdWUuZmlsdGVyIFwiZGF0ZUZvcm1hdFwiLCAodmFsdWUpIC0+XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvVC8sIFwiIFwiKVxuICBsb2NhbFRpbWUgPSBtb21lbnQudXRjKHZhbHVlLnNsaWNlKDAsIDE2KSkudG9EYXRlKClcbiAgbG9jYWxUaW1lID0gbW9tZW50KGxvY2FsVGltZSkuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbSAoWilcIilcbiAgbG9jYWxUaW1lXG5cblZ1ZS5maWx0ZXIgXCJkYXRlRm9ybWF0VVRDXCIsICh2YWx1ZSkgLT5cbiAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9ULywgXCIgXCIpXG4gIHZhbHVlLnNsaWNlIDAsIDE2XG5cbmFwcFN0b3JlcyA9XG4gIEFyZ2VudGluYTogMTQzNTA1XG4gIEF1c3RyYWxpYTogMTQzNDYwXG4gIEJlbGdpdW06IDE0MzQ0NlxuICBCcmF6aWw6IDE0MzUwM1xuICBDYW5hZGE6IDE0MzQ1NVxuICBDaGlsZTogMTQzNDgzXG4gIENoaW5hOiAxNDM0NjVcbiAgQ29sb21iaWE6IDE0MzUwMVxuICBcIkNvc3RhIFJpY2FcIjogMTQzNDk1XG4gIENyb2F0aWE6IDE0MzQ5NFxuICBcIkN6ZWNoIFJlcHVibGljXCI6IDE0MzQ4OVxuICBEZW5tYXJrOiAxNDM0NThcbiAgRGV1dHNjaGxhbmQ6IDE0MzQ0M1xuICBcIkVsIFNhbHZhZG9yXCI6IDE0MzUwNlxuICBFc3BhbmE6IDE0MzQ1NFxuICBGaW5sYW5kOiAxNDM0NDdcbiAgRnJhbmNlOiAxNDM0NDJcbiAgR3JlZWNlOiAxNDM0NDhcbiAgR3VhdGVtYWxhOiAxNDM1MDRcbiAgXCJIb25nIEtvbmdcIjogMTQzNDYzXG4gIEh1bmdhcnk6IDE0MzQ4MlxuICBJbmRpYTogMTQzNDY3XG4gIEluZG9uZXNpYTogMTQzNDc2XG4gIElyZWxhbmQ6IDE0MzQ0OVxuICBJc3JhZWw6IDE0MzQ5MVxuICBJdGFsaWE6IDE0MzQ1MFxuICBLb3JlYTogMTQzNDY2XG4gIEt1d2FpdDogMTQzNDkzXG4gIExlYmFub246IDE0MzQ5N1xuICBMdXhlbWJvdXJnOiAxNDM0NTFcbiAgTWFsYXlzaWE6IDE0MzQ3M1xuICBNZXhpY286IDE0MzQ2OFxuICBOZWRlcmxhbmQ6IDE0MzQ1MlxuICBcIk5ldyBaZWFsYW5kXCI6IDE0MzQ2MVxuICBOb3J3YXk6IDE0MzQ1N1xuICBPc3RlcnJlaWNoOiAxNDM0NDVcbiAgUGFraXN0YW46IDE0MzQ3N1xuICBQYW5hbWE6IDE0MzQ4NVxuICBQZXJ1OiAxNDM1MDdcbiAgUGhpbGxpcGluZXM6IDE0MzQ3NFxuICBQb2xhbmQ6IDE0MzQ3OFxuICBQb3J0dWdhbDogMTQzNDUzXG4gIFFhdGFyOiAxNDM0OThcbiAgUm9tYW5pYTogMTQzNDg3XG4gIFJ1c3NpYTogMTQzNDY5XG4gIFwiU2F1ZGkgQXJhYmlhXCI6IDE0MzQ3OVxuICBcIlNjaHdlaXovU3Vpc3NlXCI6IDE0MzQ1OVxuICBTaW5nYXBvcmU6IDE0MzQ2NFxuICBTbG92YWtpYTogMTQzNDk2XG4gIFNsb3ZlbmlhOiAxNDM0OTlcbiAgXCJTb3V0aCBBZnJpY2FcIjogMTQzNDcyXG4gIFwiU3JpIExhbmthXCI6IDE0MzQ4NlxuICBTd2VkZW46IDE0MzQ1NlxuICBUYWl3YW46IDE0MzQ3MFxuICBUaGFpbGFuZDogMTQzNDc1XG4gIFR1cmtleTogMTQzNDgwXG4gIFwiVW5pdGVkIEFyYWIgRW1pcmF0ZXNcIjogMTQzNDgxXG4gIFwiVW5pdGVkIEtpbmdkb21cIjogMTQzNDQ0XG4gIFwiVW5pdGVkIFN0YXRlc1wiOiAxNDM0NDFcbiAgVmVuZXp1ZWxhOiAxNDM1MDJcbiAgVmlldG5hbTogMTQzNDcxXG4gIEphcGFuOiAxNDM0NjJcbiAgXCJEb21pbmljYW4gUmVwdWJsaWNcIjogMTQzNTA4XG4gIEVjdWFkb3I6IDE0MzUwOVxuICBFZ3lwdDogMTQzNTE2XG4gIEVzdG9uaWE6IDE0MzUxOFxuICBIb25kdXJhczogMTQzNTEwXG4gIEphbWFpY2E6IDE0MzUxMVxuICBLYXpha2hzdGFuOiAxNDM1MTdcbiAgTGF0dmlhOiAxNDM1MTlcbiAgTGl0aHVhbmlhOiAxNDM1MjBcbiAgTWFjYXU6IDE0MzUxNVxuICBNYWx0YTogMTQzNTIxXG4gIE1vbGRvdmE6IDE0MzUyM1xuICBOaWNhcmFndWE6IDE0MzUxMlxuICBQYXJhZ3VheTogMTQzNTEzXG4gIFVydWd1YXk6IDE0MzUxNFxuXG5hcHBTdG9yZU9wdGlvbnMgPSBbXVxuZm9yIGtleSx2YWx1ZSBvZiBhcHBTdG9yZXNcbiAgYXBwU3RvcmVPcHRpb25zLnB1c2goe3RleHQ6a2V5LHZhbHVlOnZhbHVlfSlcblxuaU9TQXBwU2NoZW1hID0gW1xuICB7XG4gICAgZmllbGRUaXRsZTogXCJBcHBsaWNhdGlvbiBJRFwiXG4gICAgZmllbGROYW1lOlwiYXBwX2lkXCJcbiAgICBmaWVsZFR5cGU6XCJpbnB1dHRleHRcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG4gIHtcbiAgICBmaWVsZFRpdGxlOiBcIlRpdGxlXCJcbiAgICBmaWVsZE5hbWU6XCJ0aXRsZVwiXG4gICAgZmllbGRUeXBlOlwiaW5wdXR0ZXh0XCJcbiAgICBmaWVsZFZhbHVlOlwiXCJcbiAgfVxuICB7XG4gICAgZmllbGRUaXRsZTogXCJXZWJob29rIFVSTFwiXG4gICAgZmllbGROYW1lOlwid2ViaG9va191cmxcIlxuICAgIGZpZWxkVHlwZTpcImlucHV0dGV4dFwiXG4gICAgZmllbGRWYWx1ZTpcIlwiXG4gIH1cbiAge1xuICAgIGZpZWxkVGl0bGU6IFwiSWNvbiBVUkxcIlxuICAgIGZpZWxkTmFtZTpcImljb25fdXJsXCJcbiAgICBmaWVsZFR5cGU6XCJpbnB1dHRleHRcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG4gIHtcbiAgICBmaWVsZFRpdGxlOiBcIkRlc2NyaXB0aW9uXCJcbiAgICBmaWVsZE5hbWU6XCJjb250ZW50XCJcbiAgICBmaWVsZFR5cGU6XCJ0ZXh0YXJlYVwiXG4gICAgZmllbGRWYWx1ZTpcIlwiXG4gIH1cbiAge1xuICAgIGZpZWxkVGl0bGU6XCJSZWdpb25cIlxuICAgIGZpZWxkTmFtZTpcInJlZ2lvblwiXG4gICAgZmllbGRUeXBlOlwic2VsZWN0XCJcbiAgICBvcHRpb25zOiBhcHBTdG9yZU9wdGlvbnNcbiAgICBmaWVsZFZhbHVlOlwiXCJcbiAgfVxuXVxuXG5ibG9iU3RvcmVJbWFnZVNjaGVtYSA9IFtcbiAge1xuICAgIGZpZWxkVGl0bGU6IFwiVGl0bGVcIlxuICAgIGZpZWxkTmFtZTpcInRpdGxlXCJcbiAgICBmaWVsZFR5cGU6XCJpbnB1dHRleHRcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG4gIHtcbiAgICBmaWVsZFRpdGxlOiBcIk5vdGVcIlxuICAgIGZpZWxkTmFtZTpcIm5vdGVcIlxuICAgIGZpZWxkVHlwZTpcImlucHV0dGV4dFwiXG4gICAgZmllbGRWYWx1ZTpcIlwiXG4gIH1cbiAge1xuICAgIGZpZWxkVGl0bGU6IFwiSW1hZ2UgVVJMXCJcbiAgICBmaWVsZE5hbWU6XCJpbWFnZV91cmxcIlxuICAgIGZpZWxkVHlwZTpcImlucHV0dGV4dFwiXG4gICAgZmllbGRWYWx1ZTpcIlwiXG4gIH1cbl1cbnNjaGVtYXMgPVxuICBpb3NhcHA6XG4gICAgc2NoZW1hOmlPU0FwcFNjaGVtYVxuICAgIG1vZGVsTmFtZTogXCJpb3NhcHBcIlxuICAgIGFwaUVuZHBvaW50OiBcIi9hZG1pbi9hcGkvdjEvaW9zYXBwXCJcbiAgICB0YXNrRW5kcG9pbnQ6IFwiL2FkbWluL3Rhc2svaW9zYXBwL2dldHJldmlld3NcIlxuICAgIGZvcm1UaXRsZTpcIkFwcFN0b3JlIEFwcCBzZXR0aW5nc1wiXG4gICAgZm9ybURlc2NyaXB0aW9uOlwiV2hlbiBhIHJldmlldyBpcyBwb3N0ZWQgdG8gQXBwU3RvcmUsIG5vdGlmaWNhdGlvbiBpcyBzZW5kIHRvIHlvdXIgc2xhY2sgY2hhbm5lbFwiXG4gIGJsb2JzdG9yZWltYWdlOlxuICAgIHNjaGVtYTpibG9iU3RvcmVJbWFnZVNjaGVtYVxuICAgIG1vZGVsTmFtZTogXCJibG9ic3RvcmVpbWFnZVwiXG4gICAgYXBpRW5kcG9pbnQ6IFwiL2FkbWluL2FwaS92MS9ibG9ic3RvcmVpbWFnZVwiXG4gICAgZm9ybVRpdGxlOlwiQmxvYiBTdG9yZSBJbWFnZSBNYW5hZ2VtZW50XCJcbiAgICBmb3JtRGVzY3JpcHRpb246XCJVcGxvYWQgSW1hZ2UgdG8gQmxvYlN0b3JlIGFuZCBnZXQgcmVzaXphYmxlIGltYWdlIGJ5IHBhcmFtZXRlclwiXG4iXX0=
