(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var BuildAppList, BuildForm, BuildFormList, BuildFormUpdate, SetPostData, appStoreOptions, appStores, blobStoreImageSchema, iOSAppSchema, key, schemas, value;

document.addEventListener("DOMContentLoaded", function(event) {
  var pathName;
  console.log("DOM fully loaded and parsed");
  pathName = location.pathname.split("/")[2];
  switch (pathName) {
    case "":
    case void 0:
      BuildAppList();
      break;
    case "form":
      BuildForm();
      window.onhashchange = BuildForm;
  }
});

BuildAppList = function() {
  var items, key, listVue, value;
  items = [];
  for (key in schemas) {
    value = schemas[key];
    items.push(value);
  }
  return listVue = new Vue({
    el: "#form-container",
    template: "#appList",
    data: {
      items: items
    }
  });
};

BuildForm = function() {
  var crudMethod, hashArr, keyName, modelName, schema;
  hashArr = location.hash.split("/");
  modelName = hashArr[1];
  crudMethod = hashArr[2];
  keyName = hashArr[3];
  schema = schemas[modelName];
  switch (crudMethod) {
    case "update":
      return BuildFormUpdate(schema, keyName);
    case "list":
      return BuildFormList(schema);
  }
};

SetPostData = function(items) {
  var returnObject, v, _i, _len;
  returnObject = {};
  for (_i = 0, _len = items.length; _i < _len; _i++) {
    v = items[_i];
    returnObject[v.fieldName] = v.fieldValue;
  }
  return returnObject;
};

BuildFormUpdate = function(schema, keyName) {
  var formVue;
  return formVue = new Vue({
    el: "#form-container",
    template: "#formTemplate",
    data: {
      formTitle: schema.formTitle,
      items: schema.schema
    },
    created: function() {
      var request;
      if (keyName) {
        request = window.superagent;
        return request.get(schema.apiEndpoint + "/" + keyName, function(res) {
          var data, v, _i, _len, _ref, _results;
          data = res.body;
          _ref = formVue.$data.items;
          _results = [];
          for (_i = 0, _len = _ref.length; _i < _len; _i++) {
            v = _ref[_i];
            _results.push(v.fieldValue = data[v.fieldName]);
          }
          return _results;
        });
      }
    },
    methods: {
      cancel: function(e) {
        formVue.$destroy();
        return location.hash = "/" + schema.modelName + "/list";
      },
      submitUpdate: function(e) {
        var request;
        e.preventDefault();
        this.$event.toElement.innerHTML = "..loading";
        this.$event.toElement.setAttribute("disabled", "disabled");
        request = window.superagent;
        return request.post(schema.apiEndpoint).send(SetPostData(this.$data.items)).set("Accept", "application/json").end(function(error, res) {
          var items;
          if (error == null) {
            items = res.body;
            console.log(items);
            location.hash = "/" + schema.modelName + "/list";
            return location.reload();
          }
        });
      }
    }
  });
};

BuildFormList = function(schema) {
  var listVue, request;
  listVue = new Vue({
    el: "#form-container",
    template: "#listTemplate",
    data: {
      formTitle: schema.formTitle,
      formDescription: schema.formDescription,
      modelName: schema.modelName,
      items: []
    },
    methods: {
      executeTask: function(e) {
        var request;
        request = window.superagent;
        return request.get(schema.taskEndpoint, function(res) {
          return console.log("done");
        });
      },
      deleteEntity: function(e) {
        var keyName, request;
        if (window.confirm('Delete this entity?')) {
          keyName = e.targetVM.$data.app_id;
          request = window.superagent;
          return request.del(schema.apiEndpoint + "/" + keyName, function(res) {
            var items;
            items = res.body;
            return listVue.$data.items.$remove(e.targetVM.$index);
          });
        }
      }
    }
  });
  request = window.superagent;
  request.get(schema.apiEndpoint, function(res) {
    var items;
    items = res.body;
    return listVue.$data.items = items.items;
  });
  if (document.querySelector("#imagetarget")) {
    return request.get("/admin/blobstoreimage/uploadurl", function(res) {
      var blobDropzone;
      blobDropzone = new Dropzone("div#imagetarget", {
        url: res.body.uploadurl,
        uploadMultiple: false
      });
      return blobDropzone.on("complete", function(file) {
        return request.get("/admin/blobstoreimage/handler", function(res) {
          return request.get(schema.apiEndpoint, function(res) {
            var items;
            items = res.body;
            return listVue.$data.items = items.items;
          });
        });
      });
    });
  }
};

Vue.filter("dateFormat", function(value) {
  var localTime;
  value = value.replace(/T/, " ");
  localTime = moment.utc(value.slice(0, 16)).toDate();
  localTime = moment(localTime).format("YYYY-MM-DD HH:mm (Z)");
  return localTime;
});

Vue.filter("dateFormatUTC", function(value) {
  value = value.replace(/T/, " ");
  return value.slice(0, 16);
});

appStores = {
  Argentina: 143505,
  Australia: 143460,
  Belgium: 143446,
  Brazil: 143503,
  Canada: 143455,
  Chile: 143483,
  China: 143465,
  Colombia: 143501,
  "Costa Rica": 143495,
  Croatia: 143494,
  "Czech Republic": 143489,
  Denmark: 143458,
  Deutschland: 143443,
  "El Salvador": 143506,
  Espana: 143454,
  Finland: 143447,
  France: 143442,
  Greece: 143448,
  Guatemala: 143504,
  "Hong Kong": 143463,
  Hungary: 143482,
  India: 143467,
  Indonesia: 143476,
  Ireland: 143449,
  Israel: 143491,
  Italia: 143450,
  Korea: 143466,
  Kuwait: 143493,
  Lebanon: 143497,
  Luxembourg: 143451,
  Malaysia: 143473,
  Mexico: 143468,
  Nederland: 143452,
  "New Zealand": 143461,
  Norway: 143457,
  Osterreich: 143445,
  Pakistan: 143477,
  Panama: 143485,
  Peru: 143507,
  Phillipines: 143474,
  Poland: 143478,
  Portugal: 143453,
  Qatar: 143498,
  Romania: 143487,
  Russia: 143469,
  "Saudi Arabia": 143479,
  "Schweiz/Suisse": 143459,
  Singapore: 143464,
  Slovakia: 143496,
  Slovenia: 143499,
  "South Africa": 143472,
  "Sri Lanka": 143486,
  Sweden: 143456,
  Taiwan: 143470,
  Thailand: 143475,
  Turkey: 143480,
  "United Arab Emirates": 143481,
  "United Kingdom": 143444,
  "United States": 143441,
  Venezuela: 143502,
  Vietnam: 143471,
  Japan: 143462,
  "Dominican Republic": 143508,
  Ecuador: 143509,
  Egypt: 143516,
  Estonia: 143518,
  Honduras: 143510,
  Jamaica: 143511,
  Kazakhstan: 143517,
  Latvia: 143519,
  Lithuania: 143520,
  Macau: 143515,
  Malta: 143521,
  Moldova: 143523,
  Nicaragua: 143512,
  Paraguay: 143513,
  Uruguay: 143514
};

appStoreOptions = [];

for (key in appStores) {
  value = appStores[key];
  appStoreOptions.push({
    text: key,
    value: value
  });
}

iOSAppSchema = [
  {
    fieldTitle: "Application ID",
    fieldName: "app_id",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Title",
    fieldName: "title",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Webhook URL",
    fieldName: "webhook_url",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Icon URL",
    fieldName: "icon_url",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Description",
    fieldName: "content",
    fieldType: "textarea",
    fieldValue: ""
  }, {
    fieldTitle: "Region",
    fieldName: "region",
    fieldType: "select",
    options: appStoreOptions,
    fieldValue: ""
  }
];

blobStoreImageSchema = [
  {
    fieldTitle: "Title",
    fieldName: "title",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Note",
    fieldName: "note",
    fieldType: "inputtext",
    fieldValue: ""
  }, {
    fieldTitle: "Image URL",
    fieldName: "image_url",
    fieldType: "inputtext",
    fieldValue: ""
  }
];

schemas = {
  iosapp: {
    schema: iOSAppSchema,
    modelName: "iosapp",
    apiEndpoint: "/admin/api/v1/iosapp",
    taskEndpoint: "/admin/task/iosapp/getreviews",
    formTitle: "AppStore App settings",
    formDescription: "When a review is posted to AppStore, notification is send to your slack channel"
  },
  blobstoreimage: {
    schema: blobStoreImageSchema,
    modelName: "blobstoreimage",
    apiEndpoint: "/admin/api/v1/blobstoreimage",
    formTitle: "Blob Store Image Management",
    formDescription: "Upload Image to BlobStore and get resizable image by parameter"
  }
};



},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9zdXp1a2l5b3N1a2UvZGV2L3NsYWNrLXRvb2xzL25vZGVfbW9kdWxlcy9ndWxwLWJyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXJpZnkvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsIi9Vc2Vycy9zdXp1a2l5b3N1a2UvZGV2L3NsYWNrLXRvb2xzL3NyYy9pbmRleC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQSxJQUFBLHlKQUFBOztBQUFBLFFBQVEsQ0FBQyxnQkFBVCxDQUEwQixrQkFBMUIsRUFBOEMsU0FBQyxLQUFELEdBQUE7QUFDNUMsTUFBQSxRQUFBO0FBQUEsRUFBQSxPQUFPLENBQUMsR0FBUixDQUFZLDZCQUFaLENBQUEsQ0FBQTtBQUFBLEVBQ0EsUUFBQSxHQUFXLFFBQVEsQ0FBQyxRQUFRLENBQUMsS0FBbEIsQ0FBd0IsR0FBeEIsQ0FBNkIsQ0FBQSxDQUFBLENBRHhDLENBQUE7QUFFQSxVQUFPLFFBQVA7QUFBQSxTQUNPLEVBRFA7QUFBQSxTQUNVLE1BRFY7QUFFSSxNQUFBLFlBQUEsQ0FBQSxDQUFBLENBRko7QUFDVTtBQURWLFNBR08sTUFIUDtBQUlJLE1BQUEsU0FBQSxDQUFBLENBQUEsQ0FBQTtBQUFBLE1BQ0EsTUFBTSxDQUFDLFlBQVAsR0FBc0IsU0FEdEIsQ0FKSjtBQUFBLEdBSDRDO0FBQUEsQ0FBOUMsQ0FBQSxDQUFBOztBQUFBLFlBV0EsR0FBYyxTQUFBLEdBQUE7QUFDWixNQUFBLDBCQUFBO0FBQUEsRUFBQSxLQUFBLEdBQVEsRUFBUixDQUFBO0FBQ0EsT0FBQSxjQUFBO3lCQUFBO0FBQ0UsSUFBQSxLQUFLLENBQUMsSUFBTixDQUFXLEtBQVgsQ0FBQSxDQURGO0FBQUEsR0FEQTtTQUdBLE9BQUEsR0FBYyxJQUFBLEdBQUEsQ0FDWjtBQUFBLElBQUEsRUFBQSxFQUFJLGlCQUFKO0FBQUEsSUFDQSxRQUFBLEVBQVUsVUFEVjtBQUFBLElBRUEsSUFBQSxF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QUFhLHNCQUZiO0FBQUEsSUFHQSxZQUFBLEVBQWMsK0JBSGQ7QUFBQSxJQUlBLFNBQUEsRUFBVSx1QkFKVjtBQUFBLElBS0EsZUFBQSxFQUFnQixpRkFMaEI7R0FERjtBQUFBLEVBT0EsY0FBQSxFQUNFO0FBQUEsSUFBQSxNQUFBLEVBQU8sb0JBQVA7QUFBQSxJQUNBLFNBQUEsRUFBVyxnQkFEWDtBQUFBLElBRUEsV0FBQSxFQUFhLDhCQUZiO0FBQUEsSUFHQSxTQUFBLEVBQVUsNkJBSFY7QUFBQSxJQUlBLGVBQUEsRUFBZ0IsZ0VBSmhCO0dBUkY7Q0F6UUYsQ0FBQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpfXZhciBmPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChmLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGYsZi5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyIFwiRE9NQ29udGVudExvYWRlZFwiLCAoZXZlbnQpIC0+XG4gIGNvbnNvbGUubG9nIFwiRE9NIGZ1bGx5IGxvYWRlZCBhbmQgcGFyc2VkXCJcbiAgcGF0aE5hbWUgPSBsb2NhdGlvbi5wYXRobmFtZS5zcGxpdChcIi9cIilbMl1cbiAgc3dpdGNoIHBhdGhOYW1lXG4gICAgd2hlbiBcIlwiLHVuZGVmaW5lZFxuICAgICAgQnVpbGRBcHBMaXN0KClcbiAgICB3aGVuIFwiZm9ybVwiXG4gICAgICBCdWlsZEZvcm0oKVxuICAgICAgd2luZG93Lm9uaGFzaGNoYW5nZSA9IEJ1aWxkRm9ybVxuICByZXR1cm5cblxuQnVpbGRBcHBMaXN0ID0tPlxuICBpdGVtcyA9IFtdXG4gIGZvciBrZXksdmFsdWUgb2Ygc2NoZW1hc1xuICAgIGl0ZW1zLnB1c2ggdmFsdWVcbiAgbGlzdFZ1ZSA9IG5ldyBWdWUoXG4gICAgZWw6IFwiI2Zvcm0tY29udGFpbmVyXCJcbiAgICB0ZW1wbGF0ZTogXCIjYXBwTGlzdFwiXG4gICAgZGF0YTpcbiAgICAgIGl0ZW1zOiBpdGVtc1xuICApXG5cbkJ1aWxkRm9ybSA9IC0+XG4gIGhhc2hBcnIgPSBsb2NhdGlvbi5oYXNoLnNwbGl0KFwiL1wiKVxuICBtb2RlbE5hbWUgPSBoYXNoQXJyWzFdXG4gIGNydWRNZXRob2QgPSBoYXNoQXJyWzJdXG4gIGtleU5hbWUgPSBoYXNoQXJyWzNdXG4gIHNjaGVtYSA9IHNjaGVtYXNbbW9kZWxOYW1lXVxuICBzd2l0Y2ggY3J1ZE1ldGhvZFxuICAgIHdoZW4gXCJ1cGRhdGVcIiB0aGVuIEJ1aWxkRm9ybVVwZGF0ZShzY2hlbWEsa2V5TmFtZSlcbiAgICB3aGVuIFwibGlzdFwiIHRoZW4gQnVpbGRGb3JtTGlzdChzY2hlbWEpXG5cblNldFBvc3REYXRhID0gKGl0ZW1zKSAtPlxuICByZXR1cm5PYmplY3QgPSB7fVxuICBmb3IgdiBpbiBpdGVtc1xuICAgIHJldHVybk9iamVjdFt2LmZpZWxkTmFtZV0gPSB2LmZpZWxkVmFsdWVcbiAgcmV0dXJuIHJldHVybk9iamVjdFxuXG5CdWlsZEZvcm1VcGRhdGUgPSAoc2NoZW1hLGtleU5hbWUpIC0+XG4gIGZvcm1WdWUgPSBuZXcgVnVlKFxuICAgIGVsOiBcIiNmb3JtLWNvbnRhaW5lclwiXG4gICAgdGVtcGxhdGU6IFwiI2Zvcm1UZW1wbGF0ZVwiXG4gICAgZGF0YTpcbiAgICAgIGZvcm1UaXRsZTogc2NoZW1hLmZvcm1UaXRsZVxuICAgICAgaXRlbXM6IHNjaGVtYS5zY2hlbWFcbiAgICBjcmVhdGVkOiAoKSAtPlxuICAgICAgaWYga2V5TmFtZVxuICAgICAgICByZXF1ZXN0ID0gd2luZG93LnN1cGVyYWdlbnRcbiAgICAgICAgcmVxdWVzdC5nZXQgc2NoZW1hLmFwaUVuZHBvaW50K1wiL1wiK2tleU5hbWUsIChyZXMpIC0+XG4gICAgICAgICAgZGF0YSA9IHJlcy5ib2R5XG4gICAgICAgICAgZm9yIHYgaW4gZm9ybVZ1ZS4kZGF0YS5pdGVtc1xuICAgICAgICAgICAgdi5maWVsZFZhbHVlID0gZGF0YVt2LmZpZWxkTmFtZV1cbiAgICBtZXRob2RzOlxuICAgICAgY2FuY2VsOiAoZSkgLT5cbiAgICAgICAgZm9ybVZ1ZS4kZGVzdHJveSgpXG4gICAgICAgIGxvY2F0aW9uLmhhc2ggPSBcIi9cIitzY2hlbWEubW9kZWxOYW1lK1wiL2xpc3RcIlxuICAgICAgc3VibWl0VXBkYXRlOiAoZSkgLT5cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHRoaXMuJGV2ZW50LnRvRWxlbWVudC5pbm5lckhUTUwgPSBcIi4ubG9hZGluZ1wiXG4gICAgICAgIHRoaXMuJGV2ZW50LnRvRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIilcbiAgICAgICAgcmVxdWVzdCA9IHdpbmRvdy5zdXBlcmFnZW50XG4gICAgICAgIHJlcXVlc3QucG9zdChzY2hlbWEuYXBpRW5kcG9pbnQpXG4gICAgICAgICAgLnNlbmQoU2V0UG9zdERhdGEoQCRkYXRhLml0ZW1zKSlcbiAgICAgICAgICAuc2V0KFwiQWNjZXB0XCIsIFwiYXBwbGljYXRpb24vanNvblwiKVxuICAgICAgICAgIC5lbmQgKGVycm9yLCByZXMpIC0+XG4gICAgICAgICAgICB1bmxlc3MgZXJyb3I/XG4gICAgICAgICAgICAgIGl0ZW1zID0gcmVzLmJvZHlcbiAgICAgICAgICAgICAgY29uc29sZS5sb2cgaXRlbXNcbiAgICAgICAgICAgICAgbG9jYXRpb24uaGFzaCA9IFwiL1wiK3NjaGVtYS5tb2RlbE5hbWUrXCIvbGlzdFwiXG4gICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpXG4gIClcblxuQnVpbGRGb3JtTGlzdCA9IChzY2hlbWEpIC0+XG4gIGxpc3RWdWUgPSBuZXcgVnVlKFxuICAgIGVsOiBcIiNmb3JtLWNvbnRhaW5lclwiXG4gICAgdGVtcGxhdGU6IFwiI2xpc3RUZW1wbGF0ZVwiXG4gICAgZGF0YTpcbiAgICAgIGZvcm1UaXRsZTogc2NoZW1hLmZvcm1UaXRsZVxuICAgICAgZm9ybURlc2NyaXB0aW9uOiBzY2hlbWEuZm9ybURlc2NyaXB0aW9uXG4gICAgICBtb2RlbE5hbWU6IHNjaGVtYS5tb2RlbE5hbWVcbiAgICAgIGl0ZW1zOiBbXVxuICAgIG1ldGhvZHM6XG4gICAgICBleGVjdXRlVGFzazogKGUpIC0+XG4gICAgICAgIHJlcXVlc3QgPSB3aW5kb3cuc3VwZXJhZ2VudFxuICAgICAgICByZXF1ZXN0LmdldCBzY2hlbWEudGFza0VuZHBvaW50LCAocmVzKSAtPlxuICAgICAgICAgIGNvbnNvbGUubG9nIFwiZG9uZVwiXG4gICAgICAgICAgXG4gICAgICBkZWxldGVFbnRpdHk6IChlKSAtPlxuICAgICAgICBpZiB3aW5kb3cuY29uZmlybSgnRGVsZXRlIHRoaXMgZW50aXR5PycpXG4gICAgICAgICAga2V5TmFtZSA9IGUudGFyZ2V0Vk0uJGRhdGEuYXBwX2lkXG4gICAgICAgICAgcmVxdWVzdCA9IHdpbmRvdy5zdXBlcmFnZW50XG4gICAgICAgICAgcmVxdWVzdC5kZWwgc2NoZW1hLmFwaUVuZHBvaW50K1wiL1wiK2tleU5hbWUsIChyZXMpIC0+XG4gICAgICAgICAgICBpdGVtcyA9IHJlcy5ib2R5XG4gICAgICAgICAgICBsaXN0VnVlLiRkYXRhLml0ZW1zLiRyZW1vdmUoZS50YXJnZXRWTS4kaW5kZXgpXG4gIClcbiAgcmVxdWVzdCA9IHdpbmRvdy5zdXBlcmFnZW50XG4gIHJlcXVlc3QuZ2V0IHNjaGVtYS5hcGlFbmRwb2ludCwgKHJlcykgLT5cbiAgICBpdGVtcyA9IHJlcy5ib2R5XG4gICAgbGlzdFZ1ZS4kZGF0YS5pdGVtcyA9IGl0ZW1zLml0ZW1zXG4gIGlmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2V0YXJnZXRcIilcbiAgICByZXF1ZXN0LmdldCBcIi9hZG1pbi9ibG9ic3RvcmVpbWFnZS91cGxvYWR1cmxcIiwgKHJlcykgLT5cbiAgICAgIGJsb2JEcm9wem9uZSA9IG5ldyBEcm9wem9uZShcImRpdiNpbWFnZXRhcmdldFwiLFxuICAgICAgICB1cmw6IHJlcy5ib2R5LnVwbG9hZHVybFxuICAgICAgICB1cGxvYWRNdWx0aXBsZTogZmFsc2VcbiAgICAgIClcbiAgICAgIGJsb2JEcm9wem9uZS5vbiBcImNvbXBsZXRlXCIsIChmaWxlKSAtPlxuICAgICAgICByZXF1ZXN0LmdldCBcIi9hZG1pbi9ibG9ic3RvcmVpbWFnZS9oYW5kbGVyXCIsKHJlcykgLT5cbiAgICAgICAgICByZXF1ZXN0LmdldCBzY2hlbWEuYXBpRW5kcG9pbnQsIChyZXMpIC0+XG4gICAgICAgICAgICBpdGVtcyA9IHJlcy5ib2R5XG4gICAgICAgICAgICBsaXN0VnVlLiRkYXRhLml0ZW1zID0gaXRlbXMuaXRlbXNcblxuVnVlLmZpbHRlciBcImRhdGVGb3JtYXRcIiwgKHZhbHVlKSAtPlxuICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1QvLCBcIiBcIilcbiAgbG9jYWxUaW1lID0gbW9tZW50LnV0Yyh2YWx1ZS5zbGljZSgwLCAxNikpLnRvRGF0ZSgpXG4gIGxvY2FsVGltZSA9IG1vbWVudChsb2NhbFRpbWUpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW0gKFopXCIpXG4gIGxvY2FsVGltZVxuXG5WdWUuZmlsdGVyIFwiZGF0ZUZvcm1hdFVUQ1wiLCAodmFsdWUpIC0+XG4gIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvVC8sIFwiIFwiKVxuICB2YWx1ZS5zbGljZSAwLCAxNlxuXG5hcHBTdG9yZXMgPVxuICBBcmdlbnRpbmE6IDE0MzUwNVxuICBBdXN0cmFsaWE6IDE0MzQ2MFxuICBCZWxnaXVtOiAxNDM0NDZcbiAgQnJhemlsOiAxNDM1MDNcbiAgQ2FuYWRhOiAxNDM0NTVcbiAgQ2hpbGU6IDE0MzQ4M1xuICBDaGluYTogMTQzNDY1XG4gIENvbG9tYmlhOiAxNDM1MDFcbiAgXCJDb3N0YSBSaWNhXCI6IDE0MzQ5NVxuICBDcm9hdGlhOiAxNDM0OTRcbiAgXCJDemVjaCBSZXB1YmxpY1wiOiAxNDM0ODlcbiAgRGVubWFyazogMTQzNDU4XG4gIERldXRzY2hsYW5kOiAxNDM0NDNcbiAgXCJFbCBTYWx2YWRvclwiOiAxNDM1MDZcbiAgRXNwYW5hOiAxNDM0NTRcbiAgRmlubGFuZDogMTQzNDQ3XG4gIEZyYW5jZTogMTQzNDQyXG4gIEdyZWVjZTogMTQzNDQ4XG4gIEd1YXRlbWFsYTogMTQzNTA0XG4gIFwiSG9uZyBLb25nXCI6IDE0MzQ2M1xuICBIdW5nYXJ5OiAxNDM0ODJcbiAgSW5kaWE6IDE0MzQ2N1xuICBJbmRvbmVzaWE6IDE0MzQ3NlxuICBJcmVsYW5kOiAxNDM0NDlcbiAgSXNyYWVsOiAxNDM0OTFcbiAgSXRhbGlhOiAxNDM0NTBcbiAgS29yZWE6IDE0MzQ2NlxuICBLdXdhaXQ6IDE0MzQ5M1xuICBMZWJhbm9uOiAxNDM0OTdcbiAgTHV4ZW1ib3VyZzogMTQzNDUxXG4gIE1hbGF5c2lhOiAxNDM0NzNcbiAgTWV4aWNvOiAxNDM0NjhcbiAgTmVkZXJsYW5kOiAxNDM0NTJcbiAgXCJOZXcgWmVhbGFuZFwiOiAxNDM0NjFcbiAgTm9yd2F5OiAxNDM0NTdcbiAgT3N0ZXJyZWljaDogMTQzNDQ1XG4gIFBha2lzdGFuOiAxNDM0NzdcbiAgUGFuYW1hOiAxNDM0ODVcbiAgUGVydTogMTQzNTA3XG4gIFBoaWxsaXBpbmVzOiAxNDM0NzRcbiAgUG9sYW5kOiAxNDM0NzhcbiAgUG9ydHVnYWw6IDE0MzQ1M1xuICBRYXRhcjogMTQzNDk4XG4gIFJvbWFuaWE6IDE0MzQ4N1xuICBSdXNzaWE6IDE0MzQ2OVxuICBcIlNhdWRpIEFyYWJpYVwiOiAxNDM0NzlcbiAgXCJTY2h3ZWl6L1N1aXNzZVwiOiAxNDM0NTlcbiAgU2luZ2Fwb3JlOiAxNDM0NjRcbiAgU2xvdmFraWE6IDE0MzQ5NlxuICBTbG92ZW5pYTogMTQzNDk5XG4gIFwiU291dGggQWZyaWNhXCI6IDE0MzQ3MlxuICBcIlNyaSBMYW5rYVwiOiAxNDM0ODZcbiAgU3dlZGVuOiAxNDM0NTZcbiAgVGFpd2FuOiAxNDM0NzBcbiAgVGhhaWxhbmQ6IDE0MzQ3NVxuICBUdXJrZXk6IDE0MzQ4MFxuICBcIlVuaXRlZCBBcmFiIEVtaXJhdGVzXCI6IDE0MzQ4MVxuICBcIlVuaXRlZCBLaW5nZG9tXCI6IDE0MzQ0NFxuICBcIlVuaXRlZCBTdGF0ZXNcIjogMTQzNDQxXG4gIFZlbmV6dWVsYTogMTQzNTAyXG4gIFZpZXRuYW06IDE0MzQ3MVxuICBKYXBhbjogMTQzNDYyXG4gIFwiRG9taW5pY2FuIFJlcHVibGljXCI6IDE0MzUwOFxuICBFY3VhZG9yOiAxNDM1MDlcbiAgRWd5cHQ6IDE0MzUxNlxuICBFc3RvbmlhOiAxNDM1MThcbiAgSG9uZHVyYXM6IDE0MzUxMFxuICBKYW1haWNhOiAxNDM1MTFcbiAgS2F6YWtoc3RhbjogMTQzNTE3XG4gIExhdHZpYTogMTQzNTE5XG4gIExpdGh1YW5pYTogMTQzNTIwXG4gIE1hY2F1OiAxNDM1MTVcbiAgTWFsdGE6IDE0MzUyMVxuICBNb2xkb3ZhOiAxNDM1MjNcbiAgTmljYXJhZ3VhOiAxNDM1MTJcbiAgUGFyYWd1YXk6IDE0MzUxM1xuICBVcnVndWF5OiAxNDM1MTRcblxuYXBwU3RvcmVPcHRpb25zID0gW11cbmZvciBrZXksdmFsdWUgb2YgYXBwU3RvcmVzXG4gIGFwcFN0b3JlT3B0aW9ucy5wdXNoKHt0ZXh0OmtleSx2YWx1ZTp2YWx1ZX0pXG5cbmlPU0FwcFNjaGVtYSA9IFtcbiAge1xuICAgIGZpZWxkVGl0bGU6IFwiQXBwbGljYXRpb24gSURcIlxuICAgIGZpZWxkTmFtZTpcImFwcF9pZFwiXG4gICAgZmllbGRUeXBlOlwiaW5wdXR0ZXh0XCJcbiAgICBmaWVsZFZhbHVlOlwiXCJcbiAgfVxuICB7XG4gICAgZmllbGRUaXRsZTogXCJUaXRsZVwiXG4gICAgZmllbGROYW1lOlwidGl0bGVcIlxuICAgIGZpZWxkVHlwZTpcImlucHV0dGV4dFwiXG4gICAgZmllbGRWYWx1ZTpcIlwiXG4gIH1cbiAge1xuICAgIGZpZWxkVGl0bGU6IFwiV2ViaG9vayBVUkxcIlxuICAgIGZpZWxkTmFtZTpcIndlYmhvb2tfdXJsXCJcbiAgICBmaWVsZFR5cGU6XCJpbnB1dHRleHRcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG4gIHtcbiAgICBmaWVsZFRpdGxlOiBcIkljb24gVVJMXCJcbiAgICBmaWVsZE5hbWU6XCJpY29uX3VybFwiXG4gICAgZmllbGRUeXBlOlwiaW5wdXR0ZXh0XCJcbiAgICBmaWVsZFZhbHVlOlwiXCJcbiAgfVxuICB7XG4gICAgZmllbGRUaXRsZTogXCJEZXNjcmlwdGlvblwiXG4gICAgZmllbGROYW1lOlwiY29udGVudFwiXG4gICAgZmllbGRUeXBlOlwidGV4dGFyZWFcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG4gIHtcbiAgICBmaWVsZFRpdGxlOlwiUmVnaW9uXCJcbiAgICBmaWVsZE5hbWU6XCJyZWdpb25cIlxuICAgIGZpZWxkVHlwZTpcInNlbGVjdFwiXG4gICAgb3B0aW9uczogYXBwU3RvcmVPcHRpb25zXG4gICAgZmllbGRWYWx1ZTpcIlwiXG4gIH1cbl1cblxuYmxvYlN0b3JlSW1hZ2VTY2hlbWEgPSBbXG4gIHtcbiAgICBmaWVsZFRpdGxlOiBcIlRpdGxlXCJcbiAgICBmaWVsZE5hbWU6XCJ0aXRsZVwiXG4gICAgZmllbGRUeXBlOlwiaW5wdXR0ZXh0XCJcbiAgICBmaWVsZFZhbHVlOlwiXCJcbiAgfVxuICB7XG4gICAgZmllbGRUaXRsZTogXCJOb3RlXCJcbiAgICBmaWVsZE5hbWU6XCJub3RlXCJcbiAgICBmaWVsZFR5cGU6XCJpbnB1dHRleHRcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG4gIHtcbiAgICBmaWVsZFRpdGxlOiBcIkltYWdlIFVSTFwiXG4gICAgZmllbGROYW1lOlwiaW1hZ2VfdXJsXCJcbiAgICBmaWVsZFR5cGU6XCJpbnB1dHRleHRcIlxuICAgIGZpZWxkVmFsdWU6XCJcIlxuICB9XG5dXG5zY2hlbWFzID1cbiAgaW9zYXBwOlxuICAgIHNjaGVtYTppT1NBcHBTY2hlbWFcbiAgICBtb2RlbE5hbWU6IFwiaW9zYXBwXCJcbiAgICBhcGlFbmRwb2ludDogXCIvYWRtaW4vYXBpL3YxL2lvc2FwcFwiXG4gICAgdGFza0VuZHBvaW50OiBcIi9hZG1pbi90YXNrL2lvc2FwcC9nZXRyZXZpZXdzXCJcbiAgICBmb3JtVGl0bGU6XCJBcHBTdG9yZSBBcHAgc2V0dGluZ3NcIlxuICAgIGZvcm1EZXNjcmlwdGlvbjpcIldoZW4gYSByZXZpZXcgaXMgcG9zdGVkIHRvIEFwcFN0b3JlLCBub3RpZmljYXRpb24gaXMgc2VuZCB0byB5b3VyIHNsYWNrIGNoYW5uZWxcIlxuICBibG9ic3RvcmVpbWFnZTpcbiAgICBzY2hlbWE6YmxvYlN0b3JlSW1hZ2VTY2hlbWFcbiAgICBtb2RlbE5hbWU6IFwiYmxvYnN0b3JlaW1hZ2VcIlxuICAgIGFwaUVuZHBvaW50OiBcIi9hZG1pbi9hcGkvdjEvYmxvYnN0b3JlaW1hZ2VcIlxuICAgIGZvcm1UaXRsZTpcIkJsb2IgU3RvcmUgSW1hZ2UgTWFuYWdlbWVudFwiXG4gICAgZm9ybURlc2NyaXB0aW9uOlwiVXBsb2FkIEltYWdlIHRvIEJsb2JTdG9yZSBhbmQgZ2V0IHJlc2l6YWJsZSBpbWFnZSBieSBwYXJhbWV0ZXJcIlxuIl19
